<div class="my-4 min-vh-100">
  <div class="container ">
    <div class="my-3">
      <h5>Orders Pickup From Vendor And Drop To Facilitation</h5>
    </div>
    
    <div class="row g-0">
      <div class="col-3 card card-body btn p-1 shadow shadow-sm"  [ngClass]="{activeTab: page==1}" (click)="page=1">
        <p class="small p-0"> <strong><i class="fa fa-check-square-o"></i>Pickup List</strong></p>
      </div>
      <div class="col-3 card card-body btn p-1 shadow shadow-sm" [ngClass]="{activeTab: page==2}" (click)="page=2">
        <p class="small p-0"> <strong><i class="fa fa-check-square-o"></i> Pickup From Vendor</strong></p>
      </div>
      <div class="col-3 card card-body btn p-1 shadow shadow-sm" [ngClass]="{activeTab: page==3}" (click)="page=3">
        <p class="small p-0"> <strong><i class="fa fa-truck"></i> Drop To Facilitation</strong></p>
      </div>
    </div>


    <div class="my-3" [ngSwitch]="page">

      <div class="card rounded-0 shadow shadow-sm" *ngSwitchCase="1">
        <div class="card-header">
          <i class="fa fa-fa-truck"></i> Pickup List
        </div>
        <div class="card-body">

          <div class="mb-3 card card-body">
            <!-- <div class="d-flex justify-content-between">
              <h5>Store Name :{{store.store_title}}</h5>
              <h5>Store Address :{{store.pickup_location}}</h5>
              <h5>Store Pincode :{{store.pincode}}</h5>
              <div class="text-end">
                <button class="btn btn-template bg-primary" type="button" (click)="acceptingstoreParcel(store)">Accept All</button>
                
              </div><br>
            </div> -->
          <div class="mb-3 card card-body" *ngFor="let order1 of request_delivery_list|filter:search| paginate: {itemsPerPage: tableSize, currentPage: page1, totalItems: count};let i = index">
            <div class="row">
              <div class="col-md-2"></div>
              <div class="col-md-8">
            <div class="d-flex justify-content-between">
               <h5>Tracking ID #{{order1.tracking_id}}</h5>
              <h5>Consignment ID #{{order1.consignment_id}}</h5>
            </div>
          </div>
            <div class="col-md-2"></div>
            </div>

         <div class="row">
          <div class="col-md-6">
            <div class="card">
              <h6><b>Pickup Address :</b> </h6>
              <h6>Store Name : {{order1.store_name}}</h6>
              <h6>Address : {{order1.pickup_location+" "+order1.pincode}}</h6>
              <h6>Email : {{order1.contact_email}}</h6>
              <h6>Contact Number : {{order1.contact_primary_mobile+", "+order1.contact_alternate_mobile}}</h6>
              </div>
             
            </div>
            <div class="col-md-6">
              <div class="card">
                <h6><b>Drop To Facilitation :</b> </h6>
                <h6>Facilitation Name : {{order1.facilitation_name}}</h6>
                <h6>Address : {{order1.delivery_address+" "+order1.f_pincode}}</h6>
                <h6>Email : {{order1.email}}</h6>
                <h6>Contact Number : {{order1.contact_no}}</h6>              
               </div>
            </div>
          </div>
<br>
             

            <div class="text-end">
              <button class="btn btn-template bg-primary" type="button" (click)="acceptingParcel(order1)"> Confirm Consignment To Pickup</button> &nbsp;
              <button class="btn btn-template bg-danger" type="button" (click)="open_rejectmodule(order1)">Reject Consignment</button>
            </div>
          </div>
        </div>

          <div class="d-flex justify-content-center">
            <pagination-controls
              previousLabel="Prev"
              nextLabel="Next"
              (pageChange)="onTableDataChange($event)"
            >
            </pagination-controls>
          </div>
        </div>
      </div>
      <div class="card rounded-0 shadow shadow-sm" *ngSwitchCase="2">
        <div class="card-header">
           Pickup From Vendor
        </div>
        <div class="card-body">
          <div class="mb-3 card card-body" *ngFor="let order of pickup_delivery_list|filter:search1| paginate: {itemsPerPage: tableSize1, currentPage: page2, totalItems: count1};let i = index">
           
            <div class="row">
              <div class="col-md-2"></div>
              <div class="col-md-8">
            <div class="d-flex justify-content-between">
               <h5>Tracking ID #{{order.tracking_id}}</h5>
              <h5>Consignment ID #{{order.consignment_id}}</h5>
            </div>
          </div>
            <div class="col-md-2"></div>
            </div>

         <div class="row">
          <div class="col-md-6">
            <div class="card">
              <h6><b>Pickup Address :</b> </h6>
              <h6>Store Name : {{order.store_name}}</h6>
              <h6>Address : {{order.pickup_location+" "+order.pincode}}</h6>
              <h6>Email : {{order.contact_email}}</h6>
              <h6>Contact Number : {{order.contact_primary_mobile+", "+order.contact_alternate_mobile}}</h6>
              </div>
             
            </div>
            <div class="col-md-6">
              <div class="card">
                <h6><b>Drop To Facilitation :</b> </h6>
                <h6>Facilitation Name : {{order.facilitation_name}}</h6>
                <h6>Address : {{order.delivery_address+" "+order.f_pincode}}</h6>
                <h6>Email : {{order.email}}</h6>
                <h6>Contact Number : {{order.contact_no}}</h6>              
               </div>
            </div>
          </div>
<br>

             <div class="text-end">
              <button class="btn btn-template bg-primary" type="button" (click)="pickupParcel(order)">Pickup Consignment From Vendor</button>
            </div> 
          </div>
          <div class="d-flex justify-content-center">
            <pagination-controls
              previousLabel="Prev"
              nextLabel="Next"
              (pageChange)="onTableDataChange1($event)"
            >
            </pagination-controls>
          </div>
        </div>
      </div>
      <div class="card rounded-0 shadow shadow-sm" *ngSwitchCase="3">
        <div class="card-header">
          <i class="fa fa-fa-truck"></i> Drop To Facilitation
        </div>
        <div class="card-body">
          <div class="mb-3 card card-body" *ngFor="let order of drop_delivery_list;index as i">
           <div class="row">
              <div class="col-md-2"></div>
              <div class="col-md-8">
            <div class="d-flex justify-content-between">
               <h5>Tracking ID #{{order.tracking_id}}</h5>
              <h5>Consignment ID #{{order.consignment_id}}</h5>
            </div>
          </div>
            <div class="col-md-2"></div>
            </div>

         <div class="row">
          <div class="col-md-6">
            <div class="card">
              <h6><b>Pickup Address :</b> </h6>
              <h6>Store Name : {{order.store_name}}</h6>
              <h6>Address : {{order.pickup_location+" "+order.pincode}}</h6>
              <h6>Email : {{order.contact_email}}</h6>
              <h6>Contact Number : {{order.contact_primary_mobile+", "+order.contact_alternate_mobile}}</h6>
              </div>
             
            </div>
            <div class="col-md-6">
              <div class="card">
                <h6><b>Drop To Facilitation :</b> </h6>
                <h6>Facilitation Name : {{order.facilitation_name}}</h6>
                <h6>Address : {{order.delivery_address+" "+order.f_pincode}}</h6>
                <h6>Email : {{order.email}}</h6>
                <h6>Contact Number : {{order.contact_no}}</h6>              
               </div>
            </div>
          </div>
            <!-- <div class="text-end">
              <button class="btn btn-template bg-primary" type="button" (click)="deliverParcel(ord)">Delivery</button>
            </div> -->
          </div>

        </div>
      </div>
    </div>


  </div>
</div>


<div class="modal fade"  id="reasionmodule" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title" id="exampleModalLabel">
         Reject Reasion
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
 
      </div>
      <div class="modal-body border-0">
      <form [formGroup]="form">
          <div class="'row">
            <textarea class="form-control" formControlName="v_reasion" type="text" [(ngModel)]="reasion" cols="3" [ngClass]="{ 'is-invalid': submitted && f['v_reasion'].errors }"></textarea>

            <div *ngIf="submitted && f['v_reasion'].errors" class="invalid-feedback">
              <div *ngIf="f['v_reasion'].errors['required']">Enter Reasion</div> 
            </div>

          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="rejectParcel()">Update</button>
      </div>

    </div>
  </div>
</div>
