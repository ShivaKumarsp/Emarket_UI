
<!-- <section class="checkout">
          <div class="container">
              <div class="row">
                  <div class="col-12">a
                    <ul class="nav nav-pills">
                      <li class="nav-item"><a class="nav-link " href="/app/logistics/Managehub">HSN Code</a></li>
                                         
                  </ul>
                     
                  </div>
              </div>
          </div> 
        </section> -->
        
        <div class="container min-vh-100">
        
          <form [formGroup]="hform" >
        <br>
            <div class="row" *ngIf="showadd==true">
             
                    <div class="col-md-4"> 
                       <h3>HSN Code</h3> </div>    
                         
                     <div class="col-md-4"></div>   
                      <div class="col-md-4 text-end"> <button class="btn btn-sm btn-primary"
                               (click)="showlist()">All HSN Code</button></div>     
                 </div>
             
                <div class="row " *ngIf="showadd==true">
                  <div class="col-md-6">
                    <label  class="form-label">Additional Category<b style="color:red">*</b></label>
                      <select class="form-control" [(ngModel)]="additional_cat_id"   formControlName="add_cat" 
                      [ngClass]="{ 'is-invalid': submitted && f['add_cat'].errors }" required>
                      <option value="" >-- Select Category --</option>
                      <option *ngFor="let cat of add_cat_list" [ngValue]="cat.additionalcat_id">
                          {{cat.additionalcat_name}}
                      </option>
                      </select>
                      <div *ngIf="submitted && f['add_cat'].errors" class="invalid-feedback">
                        <div *ngIf="f['add_cat'].errors['required']">Select Additional Category</div>
                      </div>
                  </div>
                              <div class="col-md-6" >
                                        <label  class="form-label">Factor Name</label>
                                         <select class="form-control"  formControlName="factorid" [(ngModel)]="factor_id"
                                           [ngClass]="{ 'is-invalid': submitted && f['factorid'].errors }">
                                          <option value="" >-- Select Factor Name --</option>
                                          <option *ngFor="let fc of factor_list" [ngValue]="fc.factor_id">
                                              {{fc.factor_name}}
                                          </option>
                                      </select>
                                      <div *ngIf="submitted && f['factorid'].errors" class="invalid-feedback">
                                        <div *ngIf="f['factorid'].errors['required']">Select Factor Name</div>
                                       
                                      </div>
                                      </div>                             

                                      <div class="col-md-6">
                                        <label  class="form-label">HSN Code<b style="color:red">*</b></label>
                                        <input type="text" class="form-control" (keypress)="keyPressSpace1($event)" 
                                        [(ngModel)]="hsn_code" formControlName="hsncode" placeholder="HSN Code" 
                                        [ngClass]="{ 'is-invalid': submitted && f['hsncode'].errors }" required>
                                        <div *ngIf="submitted && f['hsncode'].errors" class="invalid-feedback">
                                          <div *ngIf="f['hsncode'].errors['required']">Enter HSN Code</div>
                                      
                                        </div>
                                      </div>
                                      <div class="col-md-6">
                                      <div class="form-check mt-3">
                                        <input class="form-check-input"  type="checkbox" formControlName="min_max_condiction" 
                                         [(ngModel)]="is_min_max_condiction" (change)="change_condiction(is_min_max_condiction)">
                                        <label class="form-check-label">
                                            Min/Max Conditions
                                        </label>                                       
                                        </div>
                                    </div>


                      <div class="col-md-6" *ngIf="is_min_max_condiction==true">
                        <label  class="form-label">Min Condiction<b style="color:red">*</b></label>
                        <input type="text" class="form-control" [(ngModel)]="min_condiction" formControlName="mincondiction"  
                         placeholder="Enter Min Condiction" pattern="^[0-9][0-9]*$" 
                         oninput="if(!this.value.match('^[0-9][0-9]*$'))this.value='';" 
                         [ngClass]="{ 'is-invalid': submitted && f['mincondiction'].errors }">
                        <div *ngIf="submitted && f['mincondiction'].errors" class="invalid-feedback">
                          <div *ngIf="f['mincondiction'].errors['required']">Enter Min Condiction</div>
                        </div>
                      </div>

                    <div class="col-md-6" *ngIf="is_min_max_condiction==true">
                        <label  class="form-label">Max Condiction<b style="color:red">*</b></label>
                        <input type="text" class="form-control" [(ngModel)]="max_condiction" formControlName="maxcondiction" 
                          placeholder="Enter Max Condiction" pattern="^[1-9][0-9]*$" 
                          oninput="if(!this.value.match('^[1-9][0-9]*$'))this.value='';" 
                          [ngClass]="{ 'is-invalid': submitted && f['maxcondiction'].errors }">
                        <div *ngIf="submitted && f['maxcondiction'].errors" class="invalid-feedback">
                          <div *ngIf="f['maxcondiction'].errors['required']">Enter Max Condiction</div>
                        </div>
                      </div>
                      <div class="col-md-6">
                              <label  class="form-label">GST Percentage<b style="color:red">*</b></label>
                              <input type="text" class="form-control" [(ngModel)]="gst_percentage" 
                              formControlName="gst"   placeholder="Enter GST Percentage" pattern="^[0-9][0-9]*$" 
                              oninput="if(!this.value.match('^[0-9][0-9]*$'))this.value='';" 
                              [ngClass]="{ 'is-invalid': submitted && f['gst'].errors }">
                              <div *ngIf="submitted && f['gst'].errors" class="invalid-feedback">
                                <div *ngIf="f['gst'].errors['required']">Enter GST Percentage</div>
                              </div>
                            </div>

                     
                   
                    
                   
                  </div>
                  
            <div class="text-center my-4" *ngIf="showadd==true">
              <input type="text" [(ngModel)]="hsn_id" hidden>
              <button type="button" class="btn  btn-template bg-warning" (click)="clear()" >Clear</button>
              &nbsp;
              <button type="button" class="btn  btn-template bg-primary" (click)="save_data()">Save</button>
             
             
            </div>
       
          </form>
            
          <div *ngIf="showadd==false">
            <h3>All HSN Code List</h3>     
   <div class="row">     
      <div class="col-md-4"> <button class="btn btn-sm btn-primary" (click)="show_add()">Add New </button></div>     
      <div class="col-md-4"></div> 
      <div class="col-md-4">
          <input class="form-control form-control-sm" type="text" [(ngModel)]="search" placeholder="search here...">
      </div>

      </div>
   
   
    <table class="table table-bordered mt-4 shadow shadow-sm">
      <thead>
        <tr>
          <th>SL No</th>
          <th>Category Name</th>
          <!-- <th>Factor Name</th> -->
          <th>Hsn Code</th>
          <th>Min Condiction</th>
          <th>Max Condiction</th>
          <th>GST %</th>
          <th>Action</th> 
        
        </tr>
      </thead>
      <tbody>
            <tr *ngFor="let fc of hsn_list| filter:search | paginate: {itemsPerPage: tableSize, currentPage: page, totalItems: count};let i = index; filter:search">
            <th>{{tableSize *(page-1)+i+1}}</th>
          <td>{{fc.additional_cat_name}}</td>
          <!-- <td>{{fc.factor_name}}</td> -->
          <td>{{fc.hsn_code}}</td>
          <td>{{fc.min_condiction}}</td>
          <td>{{fc.max_condiction}}</td>
          <td>{{fc.gst_percentage}} %</td>
          <td><button class="btn btn-sm btn-info" (click)="edit_data(fc)">Edit</button>
          </td> 
        
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-center">
            <pagination-controls
              previousLabel="Prev"
              nextLabel="Next"
              (pageChange)="onTableDataChange($event)"
            >
            </pagination-controls>
          </div>  
  </div>
  
      
        
        </div>
        
        